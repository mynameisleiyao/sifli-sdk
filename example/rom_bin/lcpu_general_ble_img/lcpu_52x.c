#include <stdint.h>
#include <string.h>
#include "mem_map.h"
#include "rtconfig.h"
#include "register.h"

const unsigned int g_lcpu_bin[] =
{
    0x20401298, 0x00400175, 0x004003D9, 0x000008A9,
    0x000008E5, 0x00400189, 0x0040018B, 0x0040018D,
    0x00000000, 0x00000000, 0x00000000, 0x0040018F,
    0x00400191, 0x00000000, 0x0000080D, 0x004003E9,
    0x0040027B, 0x00004FA1, 0x0040019B, 0x0040019D,
    0x0040019F, 0x004001A1, 0x004001A3, 0x004001A5,
    0x004001A7, 0x004001A9, 0x004001AB, 0x00007361,
    0x004001AF, 0x004001B1, 0x004001B3, 0x00005901,
    0x004001B7, 0x004001B9, 0x004001BB, 0x004001BD,
    0x004001BF, 0x004001C1, 0x004001C3, 0x004003C1,
    0x004001C7, 0x004001C9, 0x004001CB, 0x004001CD,
    0x004001CF, 0x004001D1, 0x004001D3, 0x004001D5,
    0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0x00000000, 0x00000000, 0x00000000, 0x00000000,
    0xD00CF8DF, 0xF8A2F000, 0x47004800, 0x00400271,
    0x20401298, 0x4C14B510, 0x682049DC, 0x0003F000,
    0xFAB03803, 0xEA4FF080, 0x70081050, 0xBD10BF18,
    0xFDE8F456, 0x680148E5, 0x5100F041, 0x6C606001,
    0x0002F020, 0xF0006460, 0xF400F8DD, 0x4807FB47,
    0x60012101, 0xF974F000, 0xFA9EF452, 0xFB7BF400,
    0x4010E8BD, 0xBD8AF450, 0x40040000, 0x20400C90,
    0x47704770, 0xF3804818, 0x4818880A, 0x48184780,
    0xE7FE4700, 0xE7FEE7FE, 0xE7FEE7FE, 0xE7FEE7FE,
    0xE7FEE7FE, 0xE7FEE7FE, 0xE7FEE7FE, 0xE7FEE7FE,
    0xE7FEE7FE, 0xE7FEE7FE, 0xE7FEE7FE, 0xE7FEE7FE,
    0xE7FEE7FE, 0xE7FEE7FE, 0xE7FEE7FE, 0xE7FEE7FE,
    0xE7FEE7FE, 0xE7FEE7FE, 0xE7FEE7FE, 0xE7FEE7FE,
    0xE7FEE7FE, 0x0000E7FE, 0x20400E98, 0x00400445,
    0x00400101, 0xF3EFB410, 0xB4108403, 0xB410467C,
    0xF84DB500, 0xB40FCD04, 0xE92D9C08, 0xF3EF0FF0,
    0xB410840B, 0xF4524668, 0xBC10F9C9, 0x880BF384,
    0x0FF0E8BD, 0xF85DBC0F, 0xF85DCB04, 0xBC10EB04,
    0xBC10BC10, 0x0000E7FE, 0xE001B2D2, 0x2B01F800,
    0xD2FB1E49, 0x22004770, 0xB510E7F6, 0x460A4613,
    0x46194604, 0xFFF0F7FF, 0xBD104620, 0x4D074C06,
    0x68E0E006, 0x0301F040, 0x0007E894, 0x34104798,
    0xD3F642AC, 0xFF50F7FF, 0x00400BE0, 0x00400C00,
    0xF000B580, 0x2000FBAF, 0xB580BD80, 0xFBECF452,
    0xF8B0F401, 0x4080E8BD, 0xBBFEF452, 0xFBE4F452,
    0xA103A002, 0x72AFF44F, 0xF860F451, 0x00000030,
    0x5F474244, 0x67697254, 0x5F726567, 0x48515249,
    0x6C646E61, 0x00007265, 0x4604B5F8, 0x2000B910,
    0xFD04F401, 0x7510F242, 0xB1844E09, 0xBF341B67,
    0x462C2700, 0x07C06830, 0x4620D104, 0xFCF6F401,
    0xE7F2463C, 0xF4014620, 0x463CFCD3, 0xBDF8E7ED,
    0xE000E010, 0x68014802, 0x60013101, 0xBF004770,
    0x20400E94, 0xF000B580, 0xF000F83F, 0xF000F83B,
    0x2003F853, 0xFEECF401, 0xF0002000, 0x2800F804,
    0x2001BF18, 0x2000BD80, 0xB5704770, 0x68004604,
    0x69052600, 0xB14D6085, 0xD00407E8, 0xB11268A2,
    0x4620B2F1, 0x36014790, 0xE7F4086D, 0x4770BD70,
    0xF3EFB510, 0x4C098010, 0xF3802001, 0x68208810,
    0xD5060740, 0xF0206820, 0x60200004, 0xF7FF4804,
    0x6820FFA3, 0x0004F040, 0xE7FE6020, 0x500CA000,
    0x000186A0, 0x00004770, 0xF401B580, 0x4809FE11,
    0x68012201, 0x0101F362, 0x60012203, 0xF0416801,
    0x60010110, 0x21012002, 0xFFCEF401, 0x4080E8BD,
    0xBFCDF7FF, 0x40000010, 0x8000F3AF, 0x00004770,
    0xF452B580, 0x4803FB49, 0xFFAFF7FF, 0x4080E8BD,
    0xBB5AF452, 0x20400C04, 0x680048AB, 0xBF580040,
    0xB858F000, 0xBF52F7FF, 0xF452B570, 0x4E13FB35,
    0xF7FF6830, 0xF455FF7F, 0x4604FEF3, 0x068068B0,
    0xF455D402, 0xE015FEF5, 0x1C656A76, 0xFE02F401,
    0x46284602, 0x23014631, 0xFA5EF450, 0xD00942A0,
    0xF4554606, 0x42AEFEE5, 0xF455D004, 0x1CA0FEE1,
    0xF9F0F000, 0x4070E8BD, 0xBB26F452, 0x40040024,
    0x00004770, 0x490CB580, 0x6001480A, 0x1080F8D0,
    0x013FF041, 0x1080F8C0, 0xF952F000, 0xF8B6F450,
    0xFD72F405, 0xF814F000, 0xFF32F450, 0x49044803,
    0xBD806001, 0xE000ED08, 0x00400000, 0x20400C00,
    0x017D7840, 0x78004801, 0xBF004770, 0x2040FD54,
    0xBE40F7FF, 0x78014803, 0x4770B101, 0x70012101,
    0xB8DCF000, 0x20400C8C, 0x4C77B510, 0x00406820,
    0xBD10BF48, 0xF4012001, 0x6820FD9D, 0x5080F040,
    0xE8BD6020, 0xF7FF4010, 0xBF00BE8D, 0x4000F010,
    0xF401B580, 0xE8BDFF65, 0xF4044080, 0xF404BD99,
    0x0000BDBF, 0x4CC9B510, 0x71202002, 0x6020480D,
    0xF4502004, 0x7880FE71, 0x71E03802, 0xF4502014,
    0xF240FE6B, 0xF8A41101, 0x78801005, 0x72203802,
    0xF4504620, 0xF000FE91, 0xE8BDF94D, 0xF0004010,
    0xBF00B97D, 0x03060102, 0xF451B510, 0xF401FFE5,
    0xB940FC0C, 0xF4502000, 0x20C8FE91, 0xFE82F450,
    0xF4502002, 0x4C20FE8F, 0x490F2000, 0x0008E9C4,
    0x7620200E, 0xF4531D20, 0x480CFD5B, 0xFBD0F455,
    0xF453480B, 0x480BFE33, 0x60211C41, 0xB1086800,
    0x47806820, 0xFFB6F7FF, 0xFF12F401, 0xF4042000,
    0x2000FCCD, 0xBF00BD10, 0x00400B98, 0x00017955,
    0x004005CD, 0x00406000, 0x4602B510, 0x68034809,
    0x1D044809, 0x42A22000, 0xF013D10A, 0xD0070220,
    0xD3032902, 0x4010E8BD, 0xBBC2F417, 0x30FFF04F,
    0xBF00BD10, 0x40040020, 0x20400C2C, 0xBF1C3001,
    0x47702001, 0xF417B580, 0x2101FBB3, 0xBF082800,
    0x46082104, 0x0000BD80, 0x4815B5F8, 0x4A164D15,
    0x4F174E16, 0xF1004C11, 0x60290120, 0x0140F100,
    0x60116020, 0x0150F100, 0xF5006031, 0xF5007107,
    0x6039707B, 0x6008490F, 0xF405480F, 0x6831FA17,
    0xF44F6820, 0xF45472E6, 0x6839FAE5, 0xF44F6828,
    0xF45472E6, 0x2000FADF, 0xBF00BDF8, 0x2040E6E8,
    0x2040E000, 0x2040E6EC, 0x2040E6F0, 0x2040E6F4,
    0x2040E6F8, 0x2040E6FC, 0x0000597D, 0xF400B580,
    0xE8BDF8BD, 0xF7FF4080, 0x0000BE73, 0x4C06B510,
    0x00406820, 0x2001D406, 0xFCBCF401, 0xF0406820,
    0x60205080, 0xBD102001, 0x4000F010, 0x2908B580,
    0x481AD210, 0x40CA6A42, 0xBF0807D2, 0xEB00BD80,
    0x29000081, 0xE8BD6A80, 0xBF084080, 0xB848F416,
    0xB82AF416, 0xA109A002, 0xF450225D, 0xBF00FE4F,
    0x64695F71, 0x203C2078, 0x5F435049, 0x515F5748,
    0x45554555, 0x4D554E5F, 0x00000000, 0x75706368,
    0x70636C32, 0x6F6E5F75, 0x69666974, 0x69746163,
    0x635F6E6F, 0x626C6C61, 0x006B6361, 0x2040E498,
    0x00004770, 0x4604B510, 0xF1046A00, 0xCB0E0324,
    0x4B05441A, 0xF4513A04, 0x6AA1FFA1, 0xE8BD61E0,
    0xF0004010, 0xBF00B919, 0x00055AD1, 0x480DB5B0,
    0x220021FC, 0xFF66F454, 0x2001490B, 0xF4532401,
    0x490AFD49, 0xF4532000, 0xF415FC63, 0x4808FE93,
    0x68004DE1, 0xF45560A8, 0x60E8FD43, 0x702C2000,
    0xBF00BDB0, 0x20400C10, 0x00400BA4, 0x00400BAC,
    0x40040048, 0x47702000, 0x4C0DB51C, 0xF88D2002,
    0x47A00007, 0x0035F890, 0x0006F88D, 0xF10D47A0,
    0x21020207, 0xF86EF455, 0xF8B4F000, 0xF10D47A0,
    0x21020206, 0xF866F455, 0xFFE4F7FF, 0xBF00BD1C,
    0x00055E4D, 0xB090B510, 0x79414814, 0xF0007980,
    0xF3610001, 0xF4500041, 0xAC06FD33, 0x46202128,
    0xFD31F7FF, 0x7000F44F, 0x5180F44F, 0xF44F2201,
    0x90045300, 0x9003480A, 0x90022006, 0x90012000,
    0x7027F44F, 0x46209000, 0xFE6AF44F, 0xF4044620,
    0xF409FBFB, 0xB010FAFF, 0xBF00BD10, 0x2040EAD4,
    0x2040FE00, 0x60C849B0, 0xBF004770, 0x2000B580,
    0xF81AF000, 0xF8514907, 0x47800020, 0x2100B120,
    0x4080E8BD, 0xBD28F450, 0xA104A003, 0x52D3F240,
    0xFD8CF450, 0x0005FDCC, 0x00006C74, 0x74726F70,
    0x6E6F635F, 0x00676966, 0x2801B150, 0x2006BF04,
    0xB5804770, 0xA1044803, 0x426DF240, 0xFD76F450,
    0x47702002, 0x00400BB8, 0x5F6D6F72, 0x74726F70,
    0x7465675F, 0x00000000, 0x2014B5E0, 0x22002102,
    0x6380F44F, 0x1000E9CD, 0xA0074909, 0xF832F455,
    0xE8BDB118, 0xF455408C, 0xA006BB6F, 0xF240A109,
    0xF450124D, 0xBF00FD53, 0x6E69616D, 0x00000000,
    0x00400779, 0x20646974, 0x52203D21, 0x554E5F54,
    0x00004C4C, 0x615F7472, 0x696C7070, 0x69746163,
    0x695F6E6F, 0x0074696E, 0x00004770, 0x4C04B5B0,
    0x42AC4D0A, 0xBDB0BF28, 0x4780CC01, 0xBF00E7F9,
    0x00400BC0, 0x4C05B5B0, 0x42AC4D05, 0xBDB0BF28,
    0xB1006820, 0x34044780, 0xBF00E7F7, 0x00400BC4,
    0x00400BDC, 0xF7FFB580, 0x4808FCED, 0xFA3EF455,
    0xFD86F7FF, 0xFEB0F451, 0xFEF8F451, 0x49054804,
    0xFE12F454, 0x4080E8BD, 0xBFD0F7FF, 0x00400705,
    0x20401298, 0x20405C00, 0x00004770, 0x25004C07,
    0xD0052D04, 0x0025F854, 0x4780B100, 0xE7F73501,
    0xF948F455, 0xFE86F454, 0xE7F12500, 0x2040EFEC,
    0x2020B51F, 0x4A0E4C0B, 0x2300A10B, 0x20079003,
    0xF44F9002, 0x90017000, 0x90004805, 0xF4554620,
    0x4620F9C9, 0xE8BDB004, 0xF4554010, 0xBF00BAED,
    0x20400C94, 0x2040EF70, 0x6C646974, 0x00000065,
    0x0040095D, 0x47702000, 0x47702000, 0x47702000,
    0x47702000, 0xF7FFB580, 0xF7FFF701, 0xF7FFFF85,
    0xF7FFFFA1, 0xB908FD4F, 0xFD23F454, 0xFF38F454,
    0xFF0CF454, 0xFF48F7FF, 0xFF3AF454, 0xFFC0F7FF,
    0xFF1AF454, 0xBD802000, 0x47704770, 0x00004770,
    0x41F0E92D, 0x4D2F482E, 0x1E886001, 0xD8522803,
    0xE8DF460C, 0x0802F000, 0xF4592312, 0x6A68FDD1,
    0x61484929, 0xF459E047, 0x6A69FD7F, 0xF1B04A26,
    0x61513FFF, 0xE8BDDD3F, 0x200981F0, 0xF45346A8,
    0x1D06F923, 0x46354637, 0x42B5682D, 0xF1A5D009,
    0x2102000C, 0xF4514622, 0xE7F5F89B, 0xFFCEF7FF,
    0xF000E029, 0xF8D8F839, 0x49170024, 0xA0176148,
    0xF908F451, 0xB1204605, 0x21014628, 0xF4514622,
    0xF8D8F887, 0xF0200020, 0xF8C80001, 0x48100020,
    0xF93CF401, 0x42B7683F, 0xF1A7D008, 0x4285000C,
    0x2101D0F8, 0xF4514622, 0xE7F3F873, 0xFF7EF415,
    0xFFB0F415, 0x68284645, 0x60084906, 0x81F0E8BD,
    0x2040E8C0, 0x40040024, 0x20400C70, 0x006E6970,
    0x40080000, 0x2040FD58, 0x4C18B510, 0x06806820,
    0x480BD507, 0xF7FFB128, 0xB110FCF2, 0x30FFF04F,
    0xF459BD10, 0x6820FE7B, 0xF04F0680, 0xD5060000,
    0x68214C04, 0xF7FFB119, 0x2000FCDB, 0xBD106020,
    0x004004DF, 0x20400C90, 0x2902B580, 0x2000D201,
    0xF415BD80, 0xB138FDA3, 0xFDBEF415, 0x4803B120,
    0x68006841, 0xD0F24208, 0xBD802007, 0x40040020,
    0x4806B580, 0xF0416801, 0x60015100, 0xF4504804,
    0x4804FC1B, 0xFD54F451, 0xBD802000, 0x4000F010,
    0x004004A9, 0x0040066D, 0xC808E002, 0xC1081F12,
    0xD1FA2A00, 0x47704770, 0xE0012000, 0x1F12C101,
    0xD1FB2A00, 0x00004770, 0x00400599, 0x00000000,
    0x00000000, 0x0000000A, 0x00000004, 0x00400B29,
    0x00400A0B, 0x00000000, 0x00000030, 0x004009D1,
    0x004009C9, 0x004009C5, 0x0040072D, 0x004005E9,
    0x0005ACED, 0x00400529, 0x00400B51, 0x004009CD,
    0x00400C00, 0x20400C00, 0x0000002C, 0x00400B78,
    0x00400C2C, 0x20400C2C, 0x0000066C, 0x00400B88,
    0x02DC6C00, 0x50082000, 0x00000000, 0x0040068D,
    0x00400A11, 0x00400173, 0x0005ABDD, 0x0005ABF5,
    0x00400171, 0x00400A09, 0x0005AB8D,
};
uint32_t lcpu_ramcode_len()
{
    return sizeof(g_lcpu_bin);
}
void lcpu_img_install()
{
#if (LPSYS_RAM_CBUS_BASE < (LPSYS_SRAM_BASE - 0x20000000))
    if (sizeof(g_lcpu_bin) <= LPSYS_ITCM_SIZE)
        memcpy((void *)(LCPU_ITCM_ADDR_2_HCPU_ADDR(LPSYS_ITCM_BASE)), g_lcpu_bin, sizeof(g_lcpu_bin));
    else
    {
        memcpy((void *)(LCPU_ITCM_ADDR_2_HCPU_ADDR(LPSYS_ITCM_BASE)), g_lcpu_bin, LPSYS_ITCM_SIZE);
        memcpy((void *)(LPSYS_SRAM_BASE), (uint8_t *)g_lcpu_bin + LPSYS_ITCM_SIZE, sizeof(g_lcpu_bin) - LPSYS_ITCM_SIZE);
    }
#else
    memcpy((void *)(HCPU_LCPU_CODE_START_ADDR), g_lcpu_bin, sizeof(g_lcpu_bin));
#endif
}
